<template>
    <div class="flex min-h-full flex-col justify-center px-6 py-12 lg:px-8">
        <div class="sm:mx-auto sm:w-full sm:max-w-sm">
          <img src={logoPNG} alt="Luxe Mortgage Lending" class="w-3/12 m-auto">
          <template if:false={submitted}>
            <h2 class="mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900">Forgot your password?</h2>
          </template>
          <template if:true={submitted}>
            <h2 class="mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900">Check your email</h2>
          </template>
        </div>
        <div class="sm:mx-auto sm:w-full sm:max-w-sm">
            <div class="space-y-6">
                <template if:false={submitted}>
                    <p class="text-center text-gray-500 mt-6">Enter your email and we'll send you a link to reset your password.</p>
                    <div>
                        <label for="email" class="block text-sm font-medium leading-6 text-gray-900">Email address</label>
                        <div class="mt-2">
                            <input id="email" name="email" type="email" autocomplete="email" onkeyup={handleEmailChange}
                            onkeypress={handleEnter} required class="block w-full rounded-md border-0 px-2.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 outline-none placeholder:text-gray-400 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6">
                        </div>
                    </div>
                    <div>
                        <button type="submit" onclick={handleSubmit}
                        disabled={submitDisabled} class="loginBtn mt-5 flex w-full justify-center rounded-md px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm">
                            Submit
                        </button>
                    </div>
                </template>
                <template if:true={submitted}>
                    <div class="main">
                        <svg class="w-6 h-6 m-auto my-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" version="1.1">
                            <path d="" stroke="none" fill="#080404" fill-rule="evenodd"/><path d="M 481.452 5.166 C 367.152 64.501, 5.999 253.601, 4.648 254.822 C 0.073 258.955, -1.507 268.203, 1.405 273.800 C 4.624 279.987, 6.247 280.655, 76.083 304.528 L 144.325 327.857 160.912 313.687 C 214.017 268.324, 419.898 92.390, 421.954 90.617 C 425.084 87.917, 433.159 78.114, 312.104 223.980 L 207.968 349.461 211.734 350.791 C 262.666 368.777, 435.340 427, 437.749 427 C 442.479 427, 448.434 423.653, 450.952 419.578 C 452.789 416.606, 457.438 386.981, 482.620 217.797 C 501.807 88.883, 511.999 17.718, 511.748 14.408 C 511.072 5.494, 504.991 -0, 495.801 -0 C 492.457 -0, 489.022 1.237, 481.452 5.166 M 186.216 427.750 L 186.500 479.500 188.788 483.179 C 193.567 490.864, 205.207 493.212, 212.060 487.872 C 214.805 485.734, 274.208 405.888, 273.550 405.221 C 272.894 404.555, 188.687 376, 187.381 376 C 186.130 376, 185.970 383.091, 186.216 427.750" stroke="none" fill="#1F2DFE" fill-rule="evenodd"/>
                        </svg>
                        <p class="text-base font-bold text-center">Link sent to <span class="email">{email}</span></p>
                        <p class="text-center mt-3">If this email exists in our database, you will receive an email with a link to reset your password.</p>
                    </div>
                </template>
                <div class="text-center">
                    <a class="go-back-text cursor-pointer" onclick={goBack}>Back to Login</a>
                </div>
            </div>
            <template if:true={errorCheck}>
                <div class="error flex gap-2 items-center mt-5 w-full bg-red-100 rounded-md p-2.5 text-red-500" role="alert">
                    <svg class="w-6 h-6 text-red-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 13V8m0 8h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                    </svg>                          
                    <span class="errorText">{errorMessage}</span>
                </div>
            </template>
        </div>
      </div>
</template>